{
  "schema_version": "v1",
  "task_id": "task_claude_openclaw_notify",
  "repo_path": "out/requirements_doc/test/",
  "base_ref": "main",
  "goal": "做一个小工具，实现 Claude CLI 与 OpenClaw/Telegram 的联动：（1）当 Claude CLI 在工作时需要用户确认权限时，通过 OpenClaw 通知我的 Telegram，并支持我通过 Telegram 进行审批选择（通过/拒绝等），结果返回到 Claude CLI 以继续任务；（2）当 Claude CLI 因「到达用量 limit」而停止工作时，通过 OpenClaw 通知我的 Telegram，告知下一次可开启的时间，并支持我通过 Telegram 通知 Claude CLI 继续未完成的工作。",
  "acceptance": "产出一份可落地的设计或实现：权限确认场景下 Telegram 通知 + 审批回传 Claude CLI；用量 limit 场景下 Telegram 通知（含下次可开启时间）+ 从 Telegram 触发 Claude CLI 继续。产出存于任务 out/<task_id>/，含 artifacts/requirements.md 或等价规格。",
  "test_cmd": "node --test tests/unit/claude_bridge_ipc.test.js tests/unit/claude_bridge_patterns.test.js tests/unit/claude_bridge_e2e.test.js",
  "max_attempts": 3,
  "coder": "antigravity-cli",
  "judge": "antigravity-cli",
  "constraints": [
    "明确 Claude CLI 与 OpenClaw/Telegram 的接口与数据流；不涉及敏感凭证落盘",
    "本任务需求与实现均禁止使用任何 LLM 调用；OpenClaw/Telegram 侧不得触发任何 LLM（通知、审批、回传等均为固定模板或原文落盘，见需求文档 A4）"
  ],
  "created_at": "",
  "target_type": "external_repo",
  "allowed_paths": [],
  "forbidden_globs": [
    "**/.env",
    "**/secrets*",
    "**/*.pem"
  ],
  "cursor_cmd": "cursor-agent",
  "codex_cmd": "codex",
  "coder_timeout_seconds": 600,
  "judge_timeout_seconds": 300,
  "test_timeout_seconds": 300,
  "task_type": "requirements_doc",
  "rubric_thresholds": {
    "clarity": 3,
    "completeness": 3,
    "acceptance_testability": 3,
    "risk_and_exception": 3,
    "constraints_and_compliance": 3,
    "feasibility": 3,
    "structure_and_readability": 3,
    "min_score": 50
  },
  "coder_model": "gemini-2.5-flash",
  "judge_model": "gemini-2.5-flash"
}
